clean_up_great_tribal_festival_flags_effect = { 
	hidden_tooltip = { 
		clear_persistent_event_target = warrior_lodge_guest
		clr_character_flag = flag_holding_great_tribal_festival
		clr_character_flag = flag_host_holding_brawling_tournament
		clr_character_flag = flag_host_holding_drinking_tournament
		clr_character_flag = flag_host_holding_eating_tournament
		clr_character_flag = flag_host_holding_taming_tournament
		clr_character_flag = flag_host_holding_beauty_contest
		clr_character_flag = flag_host_holding_tapestry_contest
		clr_character_flag = flag_host_holding_poetry_contest
		clr_character_flag = flag_host_holding_singing_contest
		clr_character_flag = flag_child_race_winner
		clr_character_flag = flag_tribal_festival_brawling_contender
		clr_character_flag = flag_tribal_festival_drinking_contender
		clr_character_flag = flag_tribal_festival_eating_contender
		clr_character_flag = flag_tribal_festival_taming_contender
		clr_character_flag = flag_tribal_festival_beauty_contender
		clr_character_flag = flag_tribal_festival_poetry_contender
		clr_character_flag = flag_tribal_festival_singing_contender
		clr_character_flag = flag_tribal_festival_tapestry_contender
		remove_character_modifier = enjoying_the_countryside
		remove_character_modifier = feverish_grooming
		remove_character_modifier = tribal_studying_legends
		remove_character_modifier = expensive_craftsmen
		remove_character_modifier = tribal_festival_bought_potion
		remove_character_modifier = tribal_festival_bought_charm
		remove_character_modifier = tribal_festival_bought_perfume
		remove_character_modifier = tribal_festival_bought_strength_potion
		remove_character_modifier = tribal_festival_bought_strength_charm
		remove_character_modifier = tribal_festival_bought_bravery_amulet
		remove_character_modifier = tribal_festival_very_good_fortune
		remove_character_modifier = tribal_festival_good_fortune
		remove_character_modifier = tribal_festival_bad_fortune
		remove_character_modifier = tribal_festival_bought_very_good_trinkets
		remove_character_modifier = tribal_festival_bought_good_trinkets
		remove_character_modifier = tribal_festival_bought_cheap_trinkets
		set_variable = { which = "tribal_festival_divine_favor" value = 0 }
		if = { 
			limit = { 
				has_opinion_modifier = { 
					who = FROM
					modifier = opinion_great_tribal_festival_guest 
				} 
			}
			remove_opinion = { 
				who = FROM
				modifier = opinion_great_tribal_festival_guest 
			} 
		}
		if = { 
			limit = {  
				has_opinion_modifier = { 
					who = liege
					modifier = opinion_great_tribal_festival_guest 
				} 
			}
			remove_opinion = { 
				who = liege
				modifier = opinion_great_tribal_festival_guest 
			} 
		} 
	} 
}
great_tribal_festival_flavor_list_liege_effect = { 
	random_list = { 
		## Adults ##
		#Fortuneteller reads fate.
		#Traveling alchemist sells perfumes.
		#Traveling alchemist sells strength potions.
		#Merchants selling exotic trinkets.
		#Good guest tries to befriend other guest. (fired from liege event only)
		#Deceitful guest tries to mock other guest. (fired from liege event only)
		#Warrior Lodge Hero brags to guests (fired from liege event only)
		#Nothing.

		20 = { #Fortuneteller reads fate.
			character_event = { id = HF.23814 days = 5 random = 30 }
		}
		20 = { #Traveling alchemist sells perfumes.
			trigger = { 
				event_target:great_tribal_festival_host = { 
					OR = { 
						AND = { 
							has_character_flag = flag_host_holding_beauty_contest 
							ROOT = { 
								OR = {
									can_enter_festival_physical_competitions_trigger = no
									has_game_rule = {
										name = gender
										value = all
									} 
								}
							}
						} 
						has_character_flag = flag_host_holding_poetry_contest
						has_character_flag = flag_host_holding_singing_contest
					} 
				} 
			}
			character_event = { id = HF.23818 days = 5 random = 30 }
		}
		20 = { #Traveling alchemist sells strength potions.
			trigger = { 
				OR = {
					can_enter_festival_physical_competitions_trigger = yes
					has_game_rule = {
						name = gender
						value = all
					} 
				}
				event_target:great_tribal_festival_host = { 
					OR = { 
						has_character_flag = flag_host_holding_brawling_tournament
						has_character_flag = flag_host_holding_drinking_tournament
						has_character_flag = flag_host_holding_eating_tournament
						has_character_flag = flag_host_holding_horse_taming_tournament
					} 
				} 
			}
			character_event = { id = HF.23819 days = 5 random = 30 }
		}
		20 = { #Merchants selling exotic trinkets.
			character_event = { id = HF.23820 days = 5 random = 30 }
		}
		15 = { #Good guest tries to befriend other guest. (liege version)
			trigger = { 
				any_realm_character = { 
					is_adult = yes
					OR = {
						character = ROOT
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
					event_target:great_tribal_festival_host = { 
						is_adult = yes
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
						NOR = {
							character = PREV
							is_rival = PREV
							is_friend = PREV
							is_lover = PREV
							dynasty = PREV
						}
					}
				} 
			}
			event_target:great_tribal_festival_host = { 
				random_realm_character = { 
					limit = { 
						is_adult = yes
						OR = {
							character = ROOT
							has_opinion_modifier = {
								modifier = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}
					}
					save_event_target_as = tribal_festival_potential_friend_1
				}
				event_target:great_tribal_festival_host = { 
					save_event_target_as = tribal_festival_potential_friend_2
					character_event = { id = HF.23821 days = 5 random = 30 }
				}
			}
		}
		15 = { #Good guest tries to befriend other guest. (fired from liege event only)
			trigger = { 
					any_realm_character = { 
						is_adult = yes
						OR = {
							character = ROOT
							has_opinion_modifier = {
								modifier = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}
						event_target:great_tribal_festival_host = { 
							any_realm_character = { 
								is_adult = yes
								has_opinion_modifier = {
									modifier = opinion_great_tribal_festival_guest
									who = ROOT
								}
								NOR = {
									character = PREVPREV
									is_rival = PREVPREV
									is_friend = PREVPREV
									is_lover = PREVPREV
									dynasty = PREVPREV
								}
							}
						}
					} 
			}
			event_target:great_tribal_festival_host = { 
				random_realm_character = { 
					limit = { 
						is_adult = yes
						OR = {
							character = ROOT
							has_opinion_modifier = {
								modifier = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}
					}
					save_event_target_as = tribal_festival_potential_friend_1
				}
				random_realm_character = { 
					limit = { 
						is_adult = yes
						OR = {
							character = ROOT
							has_opinion_modifier = {
								modifier = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}
						NOR = {
							event_target:tribal_festival_potential_friend_1 = { character = PREV }
							character = PREV
							is_rival = PREV
							is_friend = PREV
							is_lover = PREV
							dynasty = PREV
						}
					}
					preferred_limit = { 
						ai = no
					}
					save_event_target_as = tribal_festival_potential_friend_2
					character_event = { id = HF.23821 days = 5 random = 30 }
				}
			}
		}
		15 = { #Deceitful guest tries to mock other guest. (liege version)
			trigger = { 
				any_realm_character = { 
					is_adult = yes
						OR = {
							character = ROOT
							has_opinion_modifier = {
								modifier = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}
					event_target:great_tribal_festival_host = { 
						is_adult = yes
						OR = {
							character = ROOT
							has_opinion_modifier = {
								modifier = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}
						NOR = {
							character = PREV
							is_rival = PREV
							is_friend = PREV
							is_lover = PREV
						}
						OR = {
							persistent_event_target:antagonize_target = {
								character = PREV
							}
							trait = envious
							trait = deceitful
							trait = schemer
							trait = cruel
							trait = arbitrary
						}
					}
				} 
			}
			random_realm_character = { 
				limit = { 
					is_adult = yes
					OR = {
						character = ROOT
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				}
				save_event_target_as = tribal_festival_potential_enemy_1
			}
			event_target:great_tribal_festival_host = { 
				save_event_target_as = tribal_festival_potential_enemy_2
				character_event = { id = HF.23828 days = 5 random = 30 }
			}
		}
		15 = { #Deceitful guest tries to mock other guest. (fired from liege event only)
			trigger = { 
				any_realm_character = { 
					is_adult = yes
						OR = {
							character = ROOT
							has_opinion_modifier = {
								modifier = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}
					any_realm_character = { 
						is_adult = yes
						OR = {
							character = ROOT
							has_opinion_modifier = {
								modifier = opinion_great_tribal_festival_guest
								who = ROOT
							}
						}
						NOR = {
							character = PREV
							is_rival = PREV
							is_friend = PREV
							is_lover = PREV
						}
						OR = {
							persistent_event_target:antagonize_target = {
								character = PREV
							}
							trait = envious
							trait = deceitful
							trait = schemer
							trait = cruel
							trait = arbitrary
						}
					}
				} 
			}
			random_realm_character = { 
				limit = { 
					is_adult = yes
					OR = {
						character = ROOT
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				}
				save_event_target_as = tribal_festival_potential_enemy_1
			}
			random_realm_character = { 
				limit = { 
					is_adult = yes
					OR = {
						character = ROOT
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
					NOR = {
						event_target:tribal_festival_potential_enemy_1 = { character = PREV }
						character = PREV
						is_rival = PREV
						is_friend = PREV
						is_lover = PREV
					}
					OR = {
						persistent_event_target:antagonize_target = {
							character = PREV
						}
						trait = envious
						trait = deceitful
						trait = schemer
						trait = cruel
						trait = arbitrary
					}
				}
				preferred_limit = { 
					ai = no
				}
				save_event_target_as = tribal_festival_potential_enemy_2
				character_event = { id = HF.23828 days = 5 random = 30 }
			}
		}
		5 = { #Warrior Lodge Hero brags to guests (fired from liege event only)
			trigger = { 
				persistent_event_target:warrior_lodge_guest = { is_alive = yes }
			}
			modifier = {
				factor = 0.25 
				persistent_event_target:warrior_lodge_guest = { trait = shy }
			}
			modifier = {
				factor = 0.5 
				persistent_event_target:warrior_lodge_guest = { trait = just }
			}
			modifier = {
				factor = 1.5 
				persistent_event_target:warrior_lodge_guest = { trait = gregarious }
			}
			modifier = {
				factor = 1.5 
				persistent_event_target:warrior_lodge_guest = { trait = wroth }
			}
			character_event = { id = HF.23835 days = 5 random = 30 }
		}
		10 = { #Nothing.
			modifier = {
				factor = 4
				is_adult = no
			}
		}
	}
	random_list = { 		
		## Kids ## (fired from liege event only, to avoid host getting showered with notifications later on)
		#Sneaking in main hall.
		#Stealing trinket from merchant.
		#Throwing mud at guests.
		#Racing with other kid.
		#Daring tree-climbing.
		#Nothing.

		#Liege's row.
		10 = { #Sneaking in main hall.
			modifier = {
				factor = 1.5 
				ai = no
				OR = { 
					trait = indolent
					trait = gluttonous
					trait = curious
				}
			}
			trigger = { 
				event_target:great_tribal_festival_host = { 
					is_adult = no
					OR = {
						character = ROOT
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				} 
			}
			event_target:great_tribal_festival_host = { 
				character_event = { id = HF.23836 days = 5 random = 30 } 
			}
		}
		20 = { #Stealing trinket from merchant.
			trigger = { 
				event_target:great_tribal_festival_host = { 
					is_adult = no
					OR = {
						character = ROOT
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				} 
			}
			modifier = {
				factor = 1.5 
				ai = no
				OR = { 
					trait = haughty
					trait = greedy
					trait = willful
				}
			}
			event_target:great_tribal_festival_host = { 
				character_event = { id = HF.23841 days = 5 random = 30 }
			}
		}
		20 = { #Throwing mud at guests.
			trigger = { 
				event_target:great_tribal_festival_host = { 
					is_adult = no
					OR = {
						character = ROOT
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				} 
			}
			modifier = {
				factor = 1.5 
				ai = no
				OR = { 
					trait = haughty
					trait = cruel
					trait = willful
				}
			}
			event_target:great_tribal_festival_host = { 
				character_event = { id = HF.23845 days = 5 random = 30 }
			}
		}
		20 = { #Racing with other kid.
			trigger = { 
				event_target:great_tribal_festival_host = { 
					is_adult = no
					NOT = { character = ROOT }
					OR = {
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				} 
				any_realm_character = { 
					is_adult = no
					NOT = { character = ROOT }
					OR = {
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				} 
			}
			modifier = {
				factor = 1.5 
				ai = no
				OR = { 
					trait = rowdy
					trait = playful
					trait = brave
				}
			}
			random_realm_character = { 
				limit = { 
					is_adult = no
					OR = {
						character = ROOT
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
					NOT = { character = PREV }
				}
				preferred_limit = {
					ai = no 
					OR = { 
						trait = rowdy
						trait = playful
						trait = brave
					}
				}
				preferred_limit = { 
					OR = { 
						trait = rowdy
						trait = playful
						trait = brave
					}
				}
				preferred_limit = { 
					ai = no
				}
				save_event_target_as = scoped_running_child_1
				event_target:great_tribal_festival_host = { 
					save_event_target_as = scoped_running_child_2
					character_event = { id = HF.23849 days = 5 random = 30 }
				}
			}
		}
		20 = { #Daring tree-climbing.
			modifier = {
				factor = 1.5 
				ai = no
				OR = { 
					trait = rowdy
					trait = playful
					trait = brave
				}
			}
			trigger = { 
				event_target:great_tribal_festival_host = { 
					is_adult = no
					OR = {
						character = ROOT
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
					}
				} 
			}
			event_target:great_tribal_festival_host = { 
				character_event = { id = HF.23854 days = 5 random = 30 }
			}
		}

		#Vassals and courtiers row.

		20 = { #Sneaking in main hall.
			trigger = { 
				any_realm_character = { 
					is_adult = no
					has_opinion_modifier = {
						modifier = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
			}
			random_realm_character = { 
				limit = { 
					is_adult = no
					ai = no
					has_opinion_modifier = {
						modifier = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
				preferred_limit = { 
					ai = no
					OR = { 
						trait = indolent
						trait = gluttonous
						trait = curious
					}
				}
				preferred_limit = { 
					OR = { 
						trait = indolent
						trait = gluttonous
						trait = curious
					}
				}
				preferred_limit = { 
					ai = no
				}
				character_event = { id = HF.23836 days = 5 random = 30 }  
			}
		}
		20 = { #Stealing trinket from merchant.
			trigger = { 
				any_realm_character = { 
					is_adult = no
					has_opinion_modifier = {
						modifier = opinion_great_tribal_festival_guest
						who = ROOT
					}
				} 
			}
			random_realm_character = { 
				limit = { 
					is_adult = no
					has_opinion_modifier = {
						modifier = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
				preferred_limit = { 
					ai = no
					OR = { 
						trait = haughty
						trait = greedy
						trait = willful
					}
				}
				preferred_limit = { 
					OR = { 
						trait = haughty
						trait = greedy
						trait = willful
					}
				}
				preferred_limit = { 
					ai = no
				}
				character_event = { id = HF.23841 days = 5 random = 30 }
			}
		}
		20 = { #Throwing mud at guests.
			trigger = { 
				any_realm_character = { 
					is_adult = no
					has_opinion_modifier = {
						modifier = opinion_great_tribal_festival_guest
						who = ROOT
					}
				} 
			}
			random_realm_character = { 
				limit = { 
					is_adult = no
					has_opinion_modifier = {
						modifier = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
				preferred_limit = { 
					ai = no
					OR = { 
						trait = haughty
						trait = cruel
						trait = willful
					}
				}
				preferred_limit = { 
					OR = { 
						trait = haughty
						trait = cruel
						trait = willful
					}
				}
				preferred_limit = { 
					ai = no
				}
				character_event = { id = HF.23845 days = 5 random = 30 }
			}
		}
		20 = { #Racing with other kid.
			trigger = { 
				any_realm_character = { 
					is_adult = no
					has_opinion_modifier = {
						modifier = opinion_great_tribal_festival_guest
						who = ROOT
					}
					count = 2
				} 
			}
			random_realm_character = { 
				limit = { 
					is_adult = no
					has_opinion_modifier = {
						modifier = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
				preferred_limit = { 
					ai = no
					OR = { 
						trait = rowdy
						trait = playful
						trait = brave
					}
				}
				preferred_limit = { 
					OR = { 
						trait = rowdy
						trait = playful
						trait = brave
					}
				}
				preferred_limit = { 
					ai = no
				}
				save_event_target_as = scoped_running_child_1
				random_realm_character = { 
					limit = { 
						is_adult = no
						has_opinion_modifier = {
							modifier = opinion_great_tribal_festival_guest
							who = ROOT
						}
						NOT = { character = PREV }
					}
					preferred_limit = {
						ai = no 
						OR = { 
							trait = rowdy
							trait = playful
							trait = brave
						}
					}
					preferred_limit = { 
						OR = { 
							trait = rowdy
							trait = playful
							trait = brave
						}
					}
					preferred_limit = { 
						ai = no
					}
					save_event_target_as = scoped_running_child_2
					character_event = { id = HF.23849 days = 5 random = 30 }
				}
			}
		}
		20 = { #Daring tree-climbing.
			trigger = { 
				any_realm_character = { 
					is_adult = no
					has_opinion_modifier = {
						modifier = opinion_great_tribal_festival_guest
						who = ROOT
					}
				} 
			}
			random_realm_character = { 
				limit = { 
					is_adult = no
					has_opinion_modifier = {
						modifier = opinion_great_tribal_festival_guest
						who = ROOT
					}
				}
				preferred_limit = {
					ai = no 
					OR = { 
						trait = rowdy
						trait = playful
						trait = brave
					}
				}
				preferred_limit = { 
					OR = { 
						trait = rowdy
						trait = playful
						trait = brave
					}
				}
				preferred_limit = { 
					ai = no
				}
				character_event = { id = HF.23854 days = 5 random = 30 }
			}
		}
		5 = { #Nothing.
		}
	}
}

great_tribal_festival_flavor_list_effect = {
	random_list = { 
		20 = { #Fortuneteller reads fate.
			character_event = { id = HF.23814 days = 5 random = 30 }
		}
		20 = { #Traveling alchemist sells perfumes.
			trigger = { 
				OR = { 
					OR = {
						can_enter_festival_physical_competitions_trigger = no
						has_game_rule = {
							name = gender
							value = all
						} 
					}
					event_target:warrior_lodge_guest = { 
						OR = {  
							has_character_flag = flag_host_holding_poetry_contest
							has_character_flag = flag_host_holding_singing_contest
						}
					} 
				} 
			}
			character_event = { id = HF.23818 days = 5 random = 30 }
		}
		20 = { #Traveling alchemist sells strength potions.
			trigger = { 
				OR = {
					can_enter_festival_physical_competitions_trigger = yes
					has_game_rule = {
						name = gender
						value = all
					} 
				}
			}
			character_event = { id = HF.23819 days = 5 random = 30 }
		}
		20 = { #Merchants selling exotic trinkets.
			character_event = { id = HF.23820 days = 5 random = 30 }
		}
		20 = { #Nothing.
		}
	}
}


#Pick two best contenders, then randomize winner amongst them.
pick_potential_brawling_winners_effect = { 
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_brawling_contender
			}
		}
		random_realm_character = { #First
			limit = { 
				has_character_flag = flag_tribal_festival_brawling_contender
			}
			preferred_limit = { 
				combat_rating = 200 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 200 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 200 }
			preferred_limit = { 
				combat_rating = 150 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 150 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 150 }
			preferred_limit = { 
				combat_rating = 100 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 100 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 100 }
			preferred_limit = { 
				combat_rating = 50 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 50 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 50 }
			preferred_limit = { 
				combat_rating = 25 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 25 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 25 }
			preferred_limit = { 
				combat_rating = 10 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 10 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 10 }
			preferred_limit = { 
				combat_rating = 0 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 0 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 0 }
			preferred_limit = { trait = brave }
			preferred_limit = { NOT = { trait = craven } }
			save_event_target_as = tribal_festival_brawling_potential_winner_1
		}
	}
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_brawling_contender
				NOT = { event_target:tribal_festival_brawling_potential_winner_1 = { character = PREV } }
			}
		}
		random_realm_character = { #Second
			limit = { 
				has_character_flag = flag_tribal_festival_brawling_contender
				NOT = { event_target:tribal_festival_brawling_potential_winner_1 = { character = PREV } }
			}
			preferred_limit = { 
				combat_rating = 200 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 200 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 200 }
			preferred_limit = { 
				combat_rating = 150 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 150 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 150 }
			preferred_limit = { 
				combat_rating = 100 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 100 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 100 }
			preferred_limit = { 
				combat_rating = 50 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 50 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 50 }
			preferred_limit = { 
				combat_rating = 25 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 25 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 25 }
			preferred_limit = { 
				combat_rating = 10 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 10 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 10 }
			preferred_limit = { 
				combat_rating = 0 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 0 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 0 }
			preferred_limit = { trait = brave }
			preferred_limit = { NOT = { trait = craven } }
			save_event_target_as = tribal_festival_brawling_potential_winner_2
		}
	}
	random_list = {
		25 = {
			trigger = { 
				event_target:tribal_festival_brawling_potential_winner_1 = { is_alive = yes }
			}
			modifier = {
				factor = 0.1 #The difference in skill compared to the other fighters is too much.
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 40 } 
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 10 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 20 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 30 }
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 5 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 10 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 15 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 20 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 30 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 40 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 50 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 60 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 70 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = duelist }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = brave }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = strong }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = robust }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = genius }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = quick }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = berserker }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = craven }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = weak }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = mangled }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = infirm }
			}
			modifier = {
				factor = 0.25 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = incapable }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_brawling_potential_winner_1 = { trait = wounded }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_brawling_potential_winner_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:tribal_festival_brawling_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_brawling_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23880 } }
		}
		25 = {
			trigger = { 
				event_target:tribal_festival_brawling_potential_winner_2 = { is_alive = yes }
			}
			modifier = {
				factor = 0.1 #The difference in skill compared to the other fighters is too much.
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 40 } 
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 10 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 20 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 30 }
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 5 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 10 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 15 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 20 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 30 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 40 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 50 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 60 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 70 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = duelist }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = brave }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = strong }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = robust }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = genius }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = quick }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = berserker }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = craven }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = weak }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = mangled }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = infirm }
			}
			modifier = {
				factor = 0.25 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = incapable }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_brawling_potential_winner_2 = { trait = wounded }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_brawling_potential_winner_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:tribal_festival_brawling_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_brawling_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23880 } }
		}
		25 = { #Host participating.
			trigger = { 
				event_target:great_tribal_festival_host = {  
					is_alive = yes
					has_character_flag = flag_tribal_festival_brawling_contender
					NOT = { event_target:tribal_festival_brawling_potential_winner_1 = { character = PREV } }
					NOT = { event_target:tribal_festival_brawling_potential_winner_2 = { character = PREV } }
				}
			}
			modifier = {
				factor = 0.1 #The difference in skill compared to the other fighters is too much.
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 40 } 
				}
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 40 } 
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 10 }
				}
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 10 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 20 }
				}
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 20 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_brawling_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 30 }
				}
				event_target:tribal_festival_brawling_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 30 }
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 5 } 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 5 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 10 } 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 10 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 15 } 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 15 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 20 }
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 20 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 30 } 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 30 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 40 } 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 40 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 50 } 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 50 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 60 } 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 60 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_1 value = 70 } 
					combat_rating_diff = { who = event_target:tribal_festival_brawling_potential_winner_2 value = 70 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = duelist }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = brave }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = strong }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = robust }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = genius }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = quick }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = berserker }
			}
			modifier = {
				factor = 0.95 
				event_target:great_tribal_festival_host = { trait = craven }
			}
			modifier = {
				factor = 0.95 
				event_target:great_tribal_festival_host = { trait = weak }
			}
			modifier = {
				factor = 0.95 
				event_target:great_tribal_festival_host = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = mangled }
			}
			modifier = {
				factor = 0.95 
				event_target:great_tribal_festival_host = { trait = infirm }
			}
			modifier = {
				factor = 0.25 
				event_target:great_tribal_festival_host = { trait = incapable }
			}
			modifier = {
				factor = 0.95 
				event_target:great_tribal_festival_host = { trait = wounded }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_brawling_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23880 } }
		}
		25 = { #Fallback, if no potential winner exists in the first place.
			trigger = { 
				event_target:tribal_festival_brawling_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_brawling_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_brawling_contender } }
			}
			spawn_good_commander_effect = yes #Saved as invited_character
			event_target:invited_character = { character_event = { id = HF.23880 } } #Surprise winner.
		}
	}
}

pick_potential_drinking_winners_effect = { 
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_drinking_contender
			}
		}
		random_realm_character = { #First
			limit = { 
				has_character_flag = flag_tribal_festival_drinking_contender
			}
			preferred_limit = { 
				trait = hedonist
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_female = no
				is_ill = no
			}
			preferred_limit = { 
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_female = no
				is_ill = no
			}
			preferred_limit = { 
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_ill = no
			}
			preferred_limit = { 
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
			}
			preferred_limit = { 
				trait = drunkard
				trait = diligent
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
			}
			preferred_limit = { 
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = drunkard
				age = 20
				NOT = { age = 50 }
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = drunkard
				is_weak_trigger = no
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				is_weak_trigger = no
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = drunkard
				is_weak_trigger = no
				is_ill = no
			}
			preferred_limit = { 
				is_weak_trigger = no
				is_ill = no
			}
			preferred_limit = { 
				trait = drunkard
				is_weak_trigger = no
			}
			preferred_limit = { 
				is_weak_trigger = no
			}
			preferred_limit = { 
				trait = drunkard
			}
			save_event_target_as = tribal_festival_drinking_potential_winner_1
		}
	}
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_drinking_contender
				NOT = { event_target:tribal_festival_drinking_potential_winner_1 = { character = PREV } }
			}
		}
		random_realm_character = { #Second
			limit = { 
				has_character_flag = flag_tribal_festival_drinking_contender
				NOT = { event_target:tribal_festival_drinking_potential_winner_1 = { character = PREV } }
			}
			preferred_limit = { 
				trait = hedonist
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_female = no
				is_ill = no
			}
			preferred_limit = { 
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_female = no
				is_ill = no
			}
			preferred_limit = { 
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_ill = no
			}
			preferred_limit = { 
				trait = drunkard
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
			}
			preferred_limit = { 
				trait = drunkard
				trait = diligent
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
			}
			preferred_limit = { 
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = drunkard
				age = 20
				NOT = { age = 50 }
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = drunkard
				is_weak_trigger = no
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				is_weak_trigger = no
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = drunkard
				is_weak_trigger = no
				is_ill = no
			}
			preferred_limit = { 
				is_weak_trigger = no
				is_ill = no
			}
			preferred_limit = { 
				trait = drunkard
				is_weak_trigger = no
			}
			preferred_limit = { 
				is_weak_trigger = no
			}
			preferred_limit = { 
				trait = drunkard
			}
			save_event_target_as = tribal_festival_drinking_potential_winner_2
		}
	}
	random_list = {
		25 = {
			trigger = { 
				event_target:tribal_festival_drinking_potential_winner_1 = { is_alive = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = hedonist }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = drunkard }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = robust }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = sturdy }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_1 = { is_strong_trigger = yes }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = pirate_trait }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = viking }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = ravager }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = seaking }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = sea_queen }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_drinking_potential_winner_1 = { is_weak_trigger = yes }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = is_malnourished }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_drinking_potential_winner_1 = { trait = temperate }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_drinking_potential_winner_1 = { is_female = no }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_1 = { 
					age = 20 
					NOT = { age = 50 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_drinking_potential_winner_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:tribal_festival_drinking_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_drinking_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23883 } }
		}
		25 = {
			trigger = { 
				event_target:tribal_festival_drinking_potential_winner_2 = { is_alive = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = hedonist }
				}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = drunkard }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = robust }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = sturdy }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_2 = { is_strong_trigger = yes }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = pirate_trait }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = viking }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = ravager }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = seaking }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = sea_queen }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_drinking_potential_winner_2 = { is_weak_trigger = yes }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = is_malnourished }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_drinking_potential_winner_2 = { trait = temperate }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_drinking_potential_winner_2 = { is_female = no }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_2 = { 
					age = 20 
					NOT = { age = 50 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_drinking_potential_winner_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:tribal_festival_drinking_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_drinking_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23883 } }
		}
		25 = { #Host participating
			trigger = { 
				event_target:great_tribal_festival_host = { 
					is_alive = yes 
					has_character_flag = flag_tribal_festival_drinking_contender 
					NOT = { event_target:tribal_festival_drinking_potential_winner_1 = { character = PREV } }
					NOT = { event_target:tribal_festival_drinking_potential_winner_2 = { character = PREV } }
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = hedonist }
				}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = drunkard }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = robust }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = sturdy }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { is_strong_trigger = yes }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = pirate_trait }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = viking }
			}
			modifier = {
				factor = 1.15 
				event_target:great_tribal_festival_host = { trait = ravager }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = seaking }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = sea_queen }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { is_weak_trigger = yes }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = is_malnourished }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = temperate }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { is_female = no }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					age = 20 
					NOT = { age = 50 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_drinking_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23883 } }
		}
		25 = { #Fallback, if no potential winner exists in the first place.
			trigger = { 
				event_target:tribal_festival_drinking_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_drinking_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_drinking_contender } }
			}
			spawn_good_commander_effect = yes #Saved as invited_character
			event_target:invited_character = { character_event = { id = HF.23883 } } #Surprise winner.
		}
	}
}

pick_potential_eating_winners_effect = {
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_eating_contender
			}
		}
		random_realm_character = { #First
			limit = { 
				has_character_flag = flag_tribal_festival_eating_contender
			}
			preferred_limit = { 
				trait = hedonist
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_female = no
				is_ill = no
			}
			preferred_limit = { 
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_female = no
				is_ill = no
			}
			preferred_limit = { 
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_ill = no
			}
			preferred_limit = { 
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
			}
			preferred_limit = { 
				trait = gluttonous
				trait = diligent
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
			}
			preferred_limit = { 
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = gluttonous
				age = 20
				NOT = { age = 50 }
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = gluttonous
				is_weak_trigger = no
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				is_weak_trigger = no
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = gluttonous
				is_weak_trigger = no
				is_ill = no
			}
			preferred_limit = { 
				is_weak_trigger = no
				is_ill = no
			}
			preferred_limit = { 
				trait = gluttonous
				is_weak_trigger = no
			}
			preferred_limit = { 
				is_weak_trigger = no
			}
			preferred_limit = { 
				trait = gluttonous
			}
			save_event_target_as = tribal_festival_eating_potential_winner_1
		}
	}
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_eating_contender
				NOT = { event_target:tribal_festival_eating_potential_winner_1 = { character = PREV } }
			}
		}
		random_realm_character = { #Second
			limit = { 
				has_character_flag = flag_tribal_festival_eating_contender
				NOT = { event_target:tribal_festival_eating_potential_winner_1 = { character = PREV } }
			}
			preferred_limit = { 
				trait = hedonist
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_female = no
				is_ill = no
			}
			preferred_limit = { 
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_female = no
				is_ill = no
			}
			preferred_limit = { 
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				is_ill = no
			}
			preferred_limit = { 
				trait = gluttonous
				trait = diligent
				trait = ambitious
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
			}
			preferred_limit = { 
				trait = gluttonous
				trait = diligent
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
			}
			preferred_limit = { 
				is_strong_trigger = yes
				age = 20
				NOT = { age = 50 }
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = gluttonous
				age = 20
				NOT = { age = 50 }
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = gluttonous
				is_weak_trigger = no
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				is_weak_trigger = no
				NOT = { trait = slothful }
			}
			preferred_limit = { 
				trait = gluttonous
				is_weak_trigger = no
				is_ill = no
			}
			preferred_limit = { 
				is_weak_trigger = no
				is_ill = no
			}
			preferred_limit = { 
				trait = gluttonous
				is_weak_trigger = no
			}
			preferred_limit = { 
				is_weak_trigger = no
			}
			preferred_limit = { 
				trait = gluttonous
			}
			save_event_target_as = tribal_festival_eating_potential_winner_2
		}
	}
	random_list = {
		25 = {
			trigger = { 
				event_target:tribal_festival_eating_potential_winner_1 = { is_alive = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = hedonist }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = gluttonous }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = robust }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = sturdy }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_1 = { is_strong_trigger = yes }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = is_fat }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = pirate_trait }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = viking }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = ravager }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = seaking }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = sea_queen }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_eating_potential_winner_1 = { is_weak_trigger = yes }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = is_malnourished }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_eating_potential_winner_1 = { trait = temperate }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_eating_potential_winner_1 = { is_female = no }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_1 = { 
					age = 20 
					NOT = { age = 50 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_eating_potential_winner_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:tribal_festival_eating_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_eating_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23886 } }
		}
		25 = {
			trigger = { 
				event_target:tribal_festival_eating_potential_winner_2 = { is_alive = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = hedonist }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = gluttonous }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = robust }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = sturdy }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_2 = { is_strong_trigger = yes }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = is_fat }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = pirate_trait }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = viking }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = ravager }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = seaking }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = sea_queen }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_eating_potential_winner_2 = { is_weak_trigger = yes }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = is_malnourished }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_eating_potential_winner_2 = { trait = temperate }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_eating_potential_winner_2 = { is_female = no }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_2 = { 
					age = 20 
					NOT = { age = 50 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_eating_potential_winner_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:tribal_festival_eating_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_eating_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23886 } }
		}
		25 = { #Host participating
			trigger = { 
				event_target:great_tribal_festival_host = { 
					is_alive = yes 
					has_character_flag = flag_tribal_festival_eating_contender 
					NOT = { event_target:tribal_festival_drinking_potential_winner_1 = { character = PREV } }
					NOT = { event_target:tribal_festival_drinking_potential_winner_2 = { character = PREV } }
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = hedonist }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = gluttonous }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = robust }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = sturdy }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { is_strong_trigger = yes }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { trait = is_fat }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = pirate_trait }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = viking }
			}
			modifier = {
				factor = 1.15 
				event_target:great_tribal_festival_host = { trait = ravager }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = seaking }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = sea_queen }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { is_weak_trigger = yes }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = is_malnourished }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = temperate }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { is_female = no }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					age = 20 
					NOT = { age = 50 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_eating_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23886 } }
		}
		25 = { #Fallback, if no potential winner exists in the first place.
			trigger = { 
				event_target:tribal_festival_eating_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_eating_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_eating_contender } }
			}
			spawn_good_commander_effect = yes #Saved as invited_character
			event_target:invited_character = { character_event = { id = HF.23886 } } #Surprise winner.
		}
	}
}

pick_potential_taming_winners_effect = {
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_taming_contender
			}
		}
		random_realm_character = { #First
			limit = { 
				has_character_flag = flag_tribal_festival_taming_contender
			}
			preferred_limit = { 
				combat_rating = 200 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 200 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 200 }
			preferred_limit = { 
				combat_rating = 150 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 150 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 150 }
			preferred_limit = { 
				combat_rating = 100 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 100 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 100 }
			preferred_limit = { 
				combat_rating = 50 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 50 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 50 }
			preferred_limit = { 
				combat_rating = 25 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 25 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 25 }
			preferred_limit = { 
				combat_rating = 10 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 10 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 10 }
			preferred_limit = { 
				combat_rating = 0 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 0 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 0 }
			preferred_limit = { trait = brave }
			preferred_limit = { NOT = { trait = craven } }
			save_event_target_as = tribal_festival_taming_potential_winner_1
		}
	}
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_taming_contender
				NOT = { event_target:tribal_festival_taming_potential_winner_1 = { character = PREV } }
			}
		}
		random_realm_character = { #Second
			limit = { 
				has_character_flag = flag_tribal_festival_taming_contender
				NOT = { event_target:tribal_festival_taming_potential_winner_1 = { character = PREV } }
			}
			preferred_limit = { 
				combat_rating = 200 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 200 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 200 }
			preferred_limit = { 
				combat_rating = 150 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 150 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 150 }
			preferred_limit = { 
				combat_rating = 100 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 100 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 100 }
			preferred_limit = { 
				combat_rating = 50 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 50 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 50 }
			preferred_limit = { 
				combat_rating = 25 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 25 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 25 }
			preferred_limit = { 
				combat_rating = 10 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 10 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 10 }
			preferred_limit = { 
				combat_rating = 0 
				OR = { 
					is_strong_trigger = yes
					is_smart_trigger = yes
					has_education_martial_trigger = yes
					has_lifestyle_martial_trigger = yes
				}
			}
			preferred_limit = { 
				combat_rating = 0 
				NOR = { 
					is_weak_trigger = yes
					is_dumb_trigger = yes
				}
			}
			preferred_limit = { combat_rating = 0 }
			preferred_limit = { trait = brave }
			preferred_limit = { NOT = { trait = craven } }
			save_event_target_as = tribal_festival_taming_potential_winner_2
		}
	}
	random_list = {
		25 = {
			trigger = { 
				event_target:tribal_festival_taming_potential_winner_1 = { is_alive = yes }
			}
			modifier = {
				factor = 0.1 #The difference in skill compared to the other fighters is too much.
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 40 } 
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 10 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 20 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 30 }
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 5 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 10 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 15 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 20 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 30 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 40 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 50 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 60 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 70 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = duelist }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = brave }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = strong }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = robust }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = genius }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = quick }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = berserker }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = craven }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = weak }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = mangled }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = infirm }
			}
			modifier = {
				factor = 0.25 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = incapable }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_taming_potential_winner_1 = { trait = wounded }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_taming_potential_winner_1 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:tribal_festival_taming_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_taming_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23889 } }
		}
		25 = {
			trigger = { 
				event_target:tribal_festival_taming_potential_winner_2 = { is_alive = yes }
			}
			modifier = {
				factor = 0.1 #The difference in skill compared to the other fighters is too much.
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 40 } 
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 10 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 20 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 30 }
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 5 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 10 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 15 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 20 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 30 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 40 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 50 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 60 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 70 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = duelist }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = brave }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = strong }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = robust }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = genius }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = quick }
			}
			modifier = {
				factor = 1.05 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = berserker }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = craven }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = weak }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = mangled }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = infirm }
			}
			modifier = {
				factor = 0.25 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = incapable }
			}
			modifier = {
				factor = 0.95 
				event_target:tribal_festival_taming_potential_winner_2 = { trait = wounded }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_taming_potential_winner_2 = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:tribal_festival_taming_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_taming_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23889 } }
		}
		25 = {
			trigger = { 
				event_target:great_tribal_festival_host = {  
					is_alive = yes
					has_character_flag = flag_tribal_festival_taming_contender
					NOT = { event_target:tribal_festival_taming_potential_winner_1 = { character = PREV } }
					NOT = { event_target:tribal_festival_taming_potential_winner_2 = { character = PREV } }
				}
			}
			modifier = {
				factor = 0.1 #The difference in skill compared to the other fighters is too much.
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 40 } 
				}
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 40 } 
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 10 }
				}
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 10 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 20 }
				}
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 20 }
				}
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_taming_potential_winner_1 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 30 }
				}
				event_target:tribal_festival_taming_potential_winner_2 = { 
					combat_rating_diff = { who = event_target:great_tribal_festival_host value = 30 }
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 5 } 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 5 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 10 } 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 10 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 15 } 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 15 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 20 }
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 20 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 30 } 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 30 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 40 } 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 40 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 50 } 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 50 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 60 } 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 60 } 
				}
			}
			modifier = {
				factor = 1.75 
				event_target:great_tribal_festival_host = { 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_1 value = 70 } 
					combat_rating_diff = { who = event_target:tribal_festival_taming_potential_winner_2 value = 70 } 
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = duelist }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = brave }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = strong }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = robust }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = genius }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = quick }
			}
			modifier = {
				factor = 1.05 
				event_target:great_tribal_festival_host = { trait = berserker }
			}
			modifier = {
				factor = 0.95 
				event_target:great_tribal_festival_host = { trait = craven }
			}
			modifier = {
				factor = 0.95 
				event_target:great_tribal_festival_host = { trait = weak }
			}
			modifier = {
				factor = 0.95 
				event_target:great_tribal_festival_host = { trait = feeble }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = mangled }
			}
			modifier = {
				factor = 0.95 
				event_target:great_tribal_festival_host = { trait = infirm }
			}
			modifier = {
				factor = 0.25 
				event_target:great_tribal_festival_host = { trait = incapable }
			}
			modifier = {
				factor = 0.95 
				event_target:great_tribal_festival_host = { trait = wounded }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = enjoying_the_countryside }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_strength_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_bravery_amulet }
			}
			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_taming_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23889 } }
		}
		25 = { #Fallback, if no potential winner exists in the first place.
			trigger = { 
				event_target:tribal_festival_taming_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_taming_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_taming_contender } }
			}
			spawn_good_commander_effect = yes #Saved as invited_character
			event_target:invited_character = { character_event = { id = HF.23889 } } #Surprise winner.
		}
	}
}
pick_potential_beauty_winners_effect = {
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_beauty_contender
			}
		}
		random_realm_character = { #First
			limit = { 
				has_character_flag = flag_tribal_festival_beauty_contender
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = diligent
				trait = ambitious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = diligent
				trait = ambitious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				trait = diligent
				trait = ambitious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = ambitious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				NOT = { age = 50 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				NOT = { age = 30 }
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				NOT = { age = 40 }
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				NOT = { age = 50 }
			}
			preferred_limit = { 
				is_attractive_trigger = yes
			}
			preferred_limit = { 
				has_attractive_trait_trigger = yes
				NOT = { age = 40 }
			}
			preferred_limit = { 
				has_unattractive_trait_trigger = no
				NOT = { age = 40 }
			}
			preferred_limit = { 
				has_unattractive_trait_trigger = no
			}
			save_event_target_as = tribal_festival_beauty_potential_winner_1
		}
	}
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_beauty_contender
				NOT = { event_target:tribal_festival_beauty_potential_winner_1 = { character = PREV } }
			}
		}
		random_realm_character = { #Second
			limit = { 
				has_character_flag = flag_tribal_festival_beauty_contender
				NOT = { event_target:tribal_festival_beauty_potential_winner_1 = { character = PREV } }
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = diligent
				trait = ambitious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = diligent
				trait = ambitious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				trait = diligent
				trait = ambitious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				trait = ambitious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				is_benevolent_trigger = yes
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				NOT = { age = 50 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				NOT = { age = 30 }
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				NOT = { age = 40 }
			}
			preferred_limit = { 
				is_attractive_trigger = yes
				NOT = { age = 50 }
			}
			preferred_limit = { 
				is_attractive_trigger = yes
			}
			preferred_limit = { 
				has_attractive_trait_trigger = yes
				NOT = { age = 40 }
			}
			preferred_limit = { 
				has_unattractive_trait_trigger = no
				NOT = { age = 40 }
			}
			preferred_limit = { 
				has_unattractive_trait_trigger = no
			}
			save_event_target_as = tribal_festival_beauty_potential_winner_2
		}
	}
	random_list = {
		25 = {
			trigger = { 
				event_target:tribal_festival_beauty_potential_winner_1 = { is_alive = yes }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_beauty_potential_winner_1 = { is_attractive_trigger = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_1 = { is_benevolent_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = proud }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = poet }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = gregarious }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = shy }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_1 = { is_ill = no }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_beauty_potential_winner_1 = { age = 30 }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_beauty_potential_winner_1 = { age = 40 }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_beauty_potential_winner_1 = { age = 50 }
			}
			modifier = {
				factor = 0.35 
				event_target:tribal_festival_beauty_potential_winner_1 = { age = 60 }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_beauty_potential_winner_1 = { trait = humble }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = feverish_grooming }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_bought_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_bought_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_beauty_potential_winner_1 = { has_character_modifier = tribal_festival_bought_perfume }
			}
			event_target:tribal_festival_beauty_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_beauty_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23892 } }
		}
		25 = {
			trigger = { 
				event_target:tribal_festival_beauty_potential_winner_2 = { is_alive = yes }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_beauty_potential_winner_2 = { is_attractive_trigger = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_2 = { is_benevolent_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = proud }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = poet }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = gregarious }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = shy }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_2 = { is_ill = no }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_beauty_potential_winner_2 = { age = 30 }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_beauty_potential_winner_2 = { age = 40 }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_beauty_potential_winner_2 = { age = 50 }
			}
			modifier = {
				factor = 0.35 
				event_target:tribal_festival_beauty_potential_winner_2 = { age = 60 }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_beauty_potential_winner_2 = { trait = humble }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = feverish_grooming }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_bought_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_bought_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_beauty_potential_winner_2 = { has_character_modifier = tribal_festival_bought_perfume }
			}
			event_target:tribal_festival_beauty_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_beauty_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23892 } }
		}
		25 = {
			trigger = { 
				event_target:great_tribal_festival_host = { 
					is_alive = yes
					has_character_flag = flag_tribal_festival_beauty_contender
					NOT = { event_target:tribal_festival_beauty_potential_winner_1 = { character = PREV } }
					NOT = { event_target:tribal_festival_beauty_potential_winner_2 = { character = PREV } }
				}
			}
			modifier = {
				factor = 1.75 
				event_target:great_tribal_festival_host = { is_attractive_trigger = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { is_benevolent_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = proud }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = poet }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = gregarious }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = shy }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { is_ill = no }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { age = 30 }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { age = 40 }
			}
			modifier = {
				factor = 0.5 
				event_target:great_tribal_festival_host = { age = 50 }
			}
			modifier = {
				factor = 0.35 
				event_target:great_tribal_festival_host = { age = 60 }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = humble }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = feverish_grooming }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_perfume }
			}
			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_beauty_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23892 } }
		}
		25 = { #Fallback, if no potential winner exists in the first place.
			trigger = { 
				event_target:tribal_festival_beauty_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_beauty_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_beauty_contender } }
			}
			spawn_debutante_effect = yes #Saved as invited_character
			event_target:invited_character = { character_event = { id = HF.23892 } } #Surprise winner.
		}
	}
}
pick_potential_poetry_winners_effect = {
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_poetry_contender
			}
		}
		random_realm_character = { #First
			limit = { 
				has_character_flag = flag_tribal_festival_poetry_contender
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 25
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 25
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				learning = 25
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				learning = 25
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				learning = 25
				trait = poet
			}
			preferred_limit = { 
				learning = 25
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 20
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 20
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				learning = 20
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				learning = 20
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				learning = 20
				trait = poet
			}
			preferred_limit = { 
				learning = 20
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 15
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 15
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				learning = 15
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				learning = 15
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				learning = 15
				trait = poet
			}
			preferred_limit = { 
				learning = 15
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 10
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 10
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				learning = 10
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				learning = 10
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				learning = 10
				trait = poet
			}
			preferred_limit = { 
				learning = 10
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 5
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 5
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				learning = 5
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				learning = 5
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				learning = 5
				trait = poet
			}
			preferred_limit = { 
				learning = 5
			}
			save_event_target_as = tribal_festival_poetry_potential_winner_1
		}
	}
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_poetry_contender
				NOT = { event_target:tribal_festival_poetry_potential_winner_1 = { character = PREV } }
			}
		}
		random_realm_character = { #Second
			limit = { 
				has_character_flag = flag_tribal_festival_poetry_contender
				NOT = { event_target:tribal_festival_poetry_potential_winner_1 = { character = PREV } }
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 25
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 25
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				learning = 25
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				learning = 25
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				learning = 25
				trait = poet
			}
			preferred_limit = { 
				learning = 25
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 20
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 20
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				learning = 20
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				learning = 20
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				learning = 20
				trait = poet
			}
			preferred_limit = { 
				learning = 20
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 15
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 15
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				learning = 15
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				learning = 15
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				learning = 15
				trait = poet
			}
			preferred_limit = { 
				learning = 15
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 10
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 10
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				learning = 10
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				learning = 10
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				learning = 10
				trait = poet
			}
			preferred_limit = { 
				learning = 10
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 5
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				learning = 5
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				learning = 5
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				learning = 5
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				learning = 5
				trait = poet
			}
			preferred_limit = { 
				learning = 5
			}
			save_event_target_as = tribal_festival_poetry_potential_winner_2
		}
	}
	random_list = {
		25 = {
			trigger = { 
				event_target:tribal_festival_poetry_potential_winner_1 = { is_alive = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_1 = { is_attractive_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_1 = { is_benevolent_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_1 = { learning = 5 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_1 = { learning = 10 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_1 = { learning = 15 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_1 = { learning = 20 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_1 = { learning = 25 }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_poetry_potential_winner_1 = { learning = 30 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = proud }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = ambitious }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = poet }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = scholar }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = mastermind_theologian }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = gregarious }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = shy }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_1 = { is_ill = no }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = stutter }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_poetry_potential_winner_1 = { trait = harelip }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = feverish_grooming }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_studying_legends }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_bought_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_bought_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_poetry_potential_winner_1 = { has_character_modifier = tribal_festival_bought_perfume }
			}
			event_target:tribal_festival_poetry_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_poetry_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23895 } }
		}
		25 = {
			trigger = { 
				event_target:tribal_festival_poetry_potential_winner_2 = { is_alive = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_2 = { is_attractive_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_2 = { is_benevolent_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_2 = { learning = 5 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_2 = { learning = 10 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_2 = { learning = 15 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_2 = { learning = 20 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_2 = { learning = 25 }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_poetry_potential_winner_2 = { learning = 30 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = proud }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = ambitious }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = poet }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = scholar }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = mastermind_theologian }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = gregarious }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = shy }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_2 = { is_ill = no }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = stutter }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_poetry_potential_winner_2 = { trait = harelip }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = feverish_grooming }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_studying_legends }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_bought_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_bought_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_poetry_potential_winner_2 = { has_character_modifier = tribal_festival_bought_perfume }
			}
			event_target:tribal_festival_poetry_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_poetry_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23895 } }
		}
		25 = {
			trigger = { 
				event_target:great_tribal_festival_host = { 
					is_alive = yes
					has_character_flag = flag_tribal_festival_poetry_contender
					NOT = { event_target:tribal_festival_poetry_potential_winner_1 = { character = PREV } }
					NOT = { event_target:tribal_festival_poetry_potential_winner_2 = { character = PREV } }
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { is_attractive_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { is_benevolent_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { learning = 5 }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { learning = 10 }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { learning = 15 }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { learning = 20 }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { learning = 25 }
			}
			modifier = {
				factor = 1.75 
				event_target:great_tribal_festival_host = { learning = 30 }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = proud }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = ambitious }
			}
			modifier = {
				factor = 1.75 
				event_target:great_tribal_festival_host = { trait = poet }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = scholar }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = mastermind_theologian }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = gregarious }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = shy }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { is_ill = no }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { trait = content }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = stutter }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = harelip }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { has_character_modifier = feverish_grooming }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_studying_legends }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_perfume }
			}
			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_poetry_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23895 } }
		}
		25 = { #Fallback, if no potential winner exists in the first place.
			trigger = { 
				event_target:tribal_festival_poetry_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_poetry_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_poetry_contender } }
			}
			spawn_debutante_effect = yes #Saved as invited_character
			event_target:invited_character = { character_event = { id = HF.23895 } } #Surprise winner.
		}
	}
}

pick_potential_singing_winners_effect = {
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_singing_contender
			}
		}
		random_realm_character = { #First
			limit = { 
				has_character_flag = flag_tribal_festival_singing_contender
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 25
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 25
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 25
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 25
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				diplomacy = 25
				trait = poet
			}
			preferred_limit = { 
				diplomacy = 25
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 20
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 20
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 20
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 20
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				diplomacy = 20
				trait = poet
			}
			preferred_limit = { 
				diplomacy = 20
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 15
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 15
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 15
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 15
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				diplomacy = 15
				trait = poet
			}
			preferred_limit = { 
				diplomacy = 15
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 10
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 10
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 10
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 10
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				diplomacy = 10
				trait = poet
			}
			preferred_limit = { 
				diplomacy = 10
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 5
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 5
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 5
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 5
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				diplomacy = 5
				trait = poet
			}
			preferred_limit = { 
				diplomacy = 5
			}
			save_event_target_as = tribal_festival_singing_potential_winner_1
		}
	}
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_singing_contender
				NOT = { event_target:tribal_festival_singing_potential_winner_1 = { character = PREV } }
			}
		}
		random_realm_character = { #Second
			limit = { 
				has_character_flag = flag_tribal_festival_singing_contender
				NOT = { event_target:tribal_festival_singing_potential_winner_1 = { character = PREV } }
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 25
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 25
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 25
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 25
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				diplomacy = 25
				trait = poet
			}
			preferred_limit = { 
				diplomacy = 25
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 20
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 20
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 20
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 20
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				diplomacy = 20
				trait = poet
			}
			preferred_limit = { 
				diplomacy = 20
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 15
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 15
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 15
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 15
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				diplomacy = 15
				trait = poet
			}
			preferred_limit = { 
				diplomacy = 15
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 10
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 10
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 10
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 10
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				diplomacy = 10
				trait = poet
			}
			preferred_limit = { 
				diplomacy = 10
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 5
				trait = poet
				trait = gregarious
				NOT = { age = 30 }
				is_ill = no
			}
			preferred_limit = { 
				is_attractive_trigger = yes 
				diplomacy = 5
				trait = poet
				trait = gregarious
				NOT = { age = 40 }
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 5
				trait = poet
				trait = gregarious
				is_ill = no
			}
			preferred_limit = {  
				diplomacy = 5
				trait = poet
				trait = gregarious
			}
			preferred_limit = {  
				diplomacy = 5
				trait = poet
			}
			preferred_limit = { 
				diplomacy = 5
			}
			save_event_target_as = tribal_festival_singing_potential_winner_2
		}
	}
	random_list = {
		25 = {
			trigger = { 
				event_target:tribal_festival_singing_potential_winner_1 = { is_alive = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_1 = { is_attractive_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_1 = { is_benevolent_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy = 5 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy = 10 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy = 15 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy = 20 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy = 25 }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_singing_potential_winner_1 = { diplomacy = 30 }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_singing_potential_winner_1 = { is_female = yes }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = eunuch }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = proud }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = poet }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = grey_eminence }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = gregarious }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = shy }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_1 = { is_ill = no }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = content }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = stutter }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_singing_potential_winner_1 = { trait = harelip }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = mud_splatter }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = feverish_grooming }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_studying_legends }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_bought_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_bought_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_singing_potential_winner_1 = { has_character_modifier = tribal_festival_bought_perfume }
			}
			event_target:tribal_festival_singing_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_singing_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23898 } }
		}
		25 = {
			trigger = { 
				event_target:tribal_festival_singing_potential_winner_2 = { is_alive = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_2 = { is_attractive_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_2 = { is_benevolent_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy = 5 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy = 10 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy = 15 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy = 20 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy = 25 }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_singing_potential_winner_2 = { diplomacy = 30 }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_singing_potential_winner_2 = { is_female = yes }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = eunuch }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = proud }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = poet }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = grey_eminence }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = gregarious }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = shy }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_2 = { is_ill = no }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = content }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = stutter }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_singing_potential_winner_2 = { trait = harelip }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = mud_splatter }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = feverish_grooming }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_studying_legends }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_bought_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_bought_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:tribal_festival_singing_potential_winner_2 = { has_character_modifier = tribal_festival_bought_perfume }
			}
			event_target:tribal_festival_singing_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_singing_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23898 } }
		}
		25 = {
			trigger = { 
				event_target:great_tribal_festival_host = { 
					is_alive = yes
					has_character_flag = flag_tribal_festival_singing_contender
					NOT = { event_target:tribal_festival_singing_potential_winner_1 = { character = PREV } }
					NOT = { event_target:tribal_festival_singing_potential_winner_2 = { character = PREV } }
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { is_attractive_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { is_benevolent_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { diplomacy = 5 }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { diplomacy = 10 }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { diplomacy = 15 }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { diplomacy = 20 }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { diplomacy = 25 }
			}
			modifier = {
				factor = 1.75 
				event_target:great_tribal_festival_host = { diplomacy = 30 }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { is_female = yes }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { trait = eunuch }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = proud }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = ambitious }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = poet }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = grey_eminence }
			}
			modifier = {
				factor = 1.75 
				event_target:great_tribal_festival_host = { trait = gregarious }
			}
			modifier = {
				factor = 0.5 
				event_target:great_tribal_festival_host = { trait = shy }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { is_ill = no }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { trait = content }
			}
			modifier = {
				factor = 0.5 
				event_target:great_tribal_festival_host = { trait = stutter }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = harelip }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 0.5 
				event_target:great_tribal_festival_host = { has_character_modifier = mud_splatter }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = feverish_grooming }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_studying_legends }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_potion }
			}
			modifier = {
				factor = 1.35 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_charm }
			}
			modifier = {
				factor = 1.15 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_bought_perfume }
			}
			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_singing_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23898 } }
		}
		25 = { #Fallback, if no potential winner exists in the first place.
			trigger = { 
				event_target:tribal_festival_singing_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_singing_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_singing_contender } }
			}
			spawn_debutante_effect = yes #Saved as invited_character
			event_target:invited_character = { character_event = { id = HF.23898 } } #Surprise winner.
		}
	}
}

pick_potential_tapestry_winners_effect = {
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_tapestry_contender
			}
		}
		random_realm_character = { #First
			limit = { 
				has_character_flag = flag_tribal_festival_tapestry_contender
			}
			preferred_limit = { 
				is_smart_trigger = yes 
				stewardship = 25
				trait = diligent
			}
			preferred_limit = { 
				stewardship = 25
				trait = diligent
			}
			preferred_limit = {  
				stewardship = 25
			}
			preferred_limit = { 
				is_smart_trigger = yes 
				stewardship = 20
				trait = diligent
			}
			preferred_limit = { 
				stewardship = 20
				trait = diligent
			}
			preferred_limit = {  
				stewardship = 20
			}
			preferred_limit = { 
				is_smart_trigger = yes 
				stewardship = 15
				trait = diligent
			}
			preferred_limit = { 
				stewardship = 15
				trait = diligent
			}
			preferred_limit = {  
				stewardship = 15
			}
			preferred_limit = { 
				is_smart_trigger = yes 
				stewardship = 10
				trait = diligent
			}
			preferred_limit = { 
				stewardship = 10
				trait = diligent
			}
			preferred_limit = {  
				stewardship = 10
			}
			preferred_limit = { 
				is_smart_trigger = yes 
				stewardship = 5
				trait = diligent
			}
			preferred_limit = { 
				stewardship = 5
				trait = diligent
			}
			preferred_limit = {  
				stewardship = 5
			}
			save_event_target_as = tribal_festival_tapestry_potential_winner_1
		}
	}
	if = { 
		limit = { 
			any_realm_character = {  
				has_character_flag = flag_tribal_festival_tapestry_contender
				NOT = { event_target:tribal_festival_tapestry_potential_winner_1 = { character = PREV } }
			}
		}
		random_realm_character = { #Second
			limit = { 
				has_character_flag = flag_tribal_festival_tapestry_contender
				NOT = { event_target:tribal_festival_tapestry_potential_winner_1 = { character = PREV } }
			}
			preferred_limit = { 
				is_smart_trigger = yes 
				stewardship = 25
				trait = diligent
			}
			preferred_limit = { 
				stewardship = 25
				trait = diligent
			}
			preferred_limit = {  
				stewardship = 25
			}
			preferred_limit = { 
				is_smart_trigger = yes 
				stewardship = 20
				trait = diligent
			}
			preferred_limit = { 
				stewardship = 20
				trait = diligent
			}
			preferred_limit = {  
				stewardship = 20
			}
			preferred_limit = { 
				is_smart_trigger = yes 
				stewardship = 15
				trait = diligent
			}
			preferred_limit = { 
				stewardship = 15
				trait = diligent
			}
			preferred_limit = {  
				stewardship = 15
			}
			preferred_limit = { 
				is_smart_trigger = yes 
				stewardship = 10
				trait = diligent
			}
			preferred_limit = { 
				stewardship = 10
				trait = diligent
			}
			preferred_limit = {  
				stewardship = 10
			}
			preferred_limit = { 
				is_smart_trigger = yes 
				stewardship = 5
				trait = diligent
			}
			preferred_limit = { 
				stewardship = 5
				trait = diligent
			}
			preferred_limit = {  
				stewardship = 5
			}
			save_event_target_as = tribal_festival_tapestry_potential_winner_2
		}
	}
	random_list = {
		25 = {
			trigger = { 
				event_target:tribal_festival_tapestry_potential_winner_1 = { is_alive = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_1 = { is_smart_trigger = yes }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_tapestry_potential_winner_1 = { is_dumb_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship = 5 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship = 10 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship = 15 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship = 20 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship = 25 }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_tapestry_potential_winner_1 = { stewardship = 30 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = ambitious }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = gregarious }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = shy }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = content }
			}
			modifier = {
				factor = 0.35 
				event_target:tribal_festival_tapestry_potential_winner_1 = { trait = blinded }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_1 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_1 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_tapestry_potential_winner_1 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_1 = { has_character_modifier = expensive_craftsmen }
			}
			event_target:tribal_festival_tapestry_potential_winner_1 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_tapestry_potential_winner_2 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23901 } }
		}
		25 = {
			trigger = { 
				event_target:tribal_festival_tapestry_potential_winner_2 = { is_alive = yes }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_2 = { is_smart_trigger = yes }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_tapestry_potential_winner_2 = { is_dumb_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship = 5 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship = 10 }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship = 15 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship = 20 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship = 25 }
			}
			modifier = {
				factor = 1.75 
				event_target:tribal_festival_tapestry_potential_winner_2 = { stewardship = 30 }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = ambitious }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = gregarious }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = shy }
			}
			modifier = {
				factor = 0.5 
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = content }
			}
			modifier = {
				factor = 0.35 
				event_target:tribal_festival_tapestry_potential_winner_2 = { trait = blinded }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_2 = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:tribal_festival_tapestry_potential_winner_2 = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:tribal_festival_tapestry_potential_winner_2
				 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:tribal_festival_tapestry_potential_winner_2 = { has_character_modifier = expensive_craftsmen }
			}
			event_target:tribal_festival_tapestry_potential_winner_2 = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_tapestry_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23901 } }
		}
		25 = {
			trigger = { 
				event_target:great_tribal_festival_host = { 
					is_alive = yes
					has_character_flag = flag_tribal_festival_singing_contender
					NOT = { event_target:tribal_festival_singing_potential_winner_1 = { character = PREV } }
					NOT = { event_target:tribal_festival_singing_potential_winner_2 = { character = PREV } }
				}
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { is_smart_trigger = yes }
			}
			modifier = {
				factor = 0.5 
				event_target:great_tribal_festival_host = { is_dumb_trigger = yes }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { stewardship = 5 }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { stewardship = 10 }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { stewardship = 15 }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { stewardship = 20 }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { stewardship = 25 }
			}
			modifier = {
				factor = 1.75 
				event_target:great_tribal_festival_host = { stewardship = 30 }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { trait = diligent }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = ambitious }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host = { trait = gregarious }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { trait = shy }
			}
			modifier = {
				factor = 0.5 
				event_target:great_tribal_festival_host = { trait = slothful }
			}
			modifier = {
				factor = 0.85 
				event_target:great_tribal_festival_host = { trait = content }
			}
			modifier = {
				factor = 0.35 
				event_target:great_tribal_festival_host = { trait = blinded }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_very_good_fortune }
			}
			modifier = {
				factor = 1.25 
				event_target:great_tribal_festival_host = { has_character_modifier = tribal_festival_good_fortune }
			}
			modifier = {
				factor = 0.75 
				event_target:great_tribal_festival_host
				 = { has_character_modifier = tribal_festival_bad_fortune }
			}
			modifier = {
				factor = 1.5 
				event_target:great_tribal_festival_host = { has_character_modifier = expensive_craftsmen }
			}
			event_target:great_tribal_festival_host = { save_event_target_as = tribal_festival_winner }
			event_target:tribal_festival_tapestry_potential_winner_1 = { save_event_target_as = tribal_festival_loser }
			event_target:tribal_festival_winner = { character_event = { id = HF.23901 } }
		}
		25 = { #Fallback, if no potential winner exists in the first place.
			trigger = { 
				event_target:tribal_festival_tapestry_potential_winner_1 = { is_alive = no }
				event_target:tribal_festival_tapestry_potential_winner_2 = { is_alive = no }
				event_target:great_tribal_festival_host = { NOT = { has_character_flag = flag_tribal_festival_tapestry_contender } }
			}
			spawn_debutante_effect = yes #Saved as invited_character
			event_target:invited_character = { character_event = { id = HF.23901 } } #Surprise winner.
		}
	}
}

